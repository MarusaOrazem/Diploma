\documentclass[mat1]{fmfdelo}
% \documentclass[fin1]{fmfdelo}
% \documentclass[isrm1]{fmfdelo}
% \documentclass[mat2]{fmfdelo}
% \documentclass[fin2]{fmfdelo}
% \documentclass[isrm2]{fmfdelo}

\usepackage{graphicx}



% naslednje ukaze ustrezno napolnite
\avtor{Maruša Oražem}

\naslov{Konstrukcija gibanja kamere s pomočjo Pitagorejskih krivulj}
\title{Construction of camera motion with help of Pitagorean curves}

% navedite ime mentorja s polnim nazivom: doc.~dr.~Ime Priimek,
% izr.~prof.~dr.~Ime Priimek, prof.~dr.~Ime Priimek
% uporabite le tisti ukaz/ukaze, ki je/so za vas ustrezni
\mentor{izr. prof. dr. Marjetka Knez}
% \mentorica{}
% \somentor{}
% \somentorica{}
% \mentorja{}{}
% \mentorici{}{}

\letnica{2020} % leto diplome

%  V povzetku na kratko opišite vsebinske rezultate dela. Sem ne sodi razlaga organizacije dela --
%  v katerem poglavju/razdelku je kaj, pač pa le opis vsebine.
\povzetek{}

%  Prevod slovenskega povzetka v angleščino.
\abstract{}

% navedite vsaj eno klasifikacijsko oznako --
% dostopne so na www.ams.org/mathscinet/msc/msc2010.html
\klasifikacija{}
\kljucnebesede{} % navedite nekaj ključnih pojmov, ki nastopajo v delu
\keywords{} % angleški prevod ključnih besed

\zapisiMetaPodatke  % poskrbi za metapodatke in veljaven PDF/A-1b standard

% aktivirajte pakete, ki jih potrebujete
% \usepackage{tikz}

% za številske množice uporabite naslednje simbole
\newcommand{\R}{\mathbb R}
\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\C}{\mathbb C}
\newcommand{\Q}{\mathbb Q}
\newcommand{\HH}{\mathbb H}
\newcommand{\rr}{\boldsymbol r}
\newcommand{\ii}{\boldsymbol i}
\newcommand{\jj}{\boldsymbol j}
\newcommand{\kk}{\boldsymbol k}
\newcommand{\pp}{\boldsymbol p}
\newcommand{\ba}{\boldsymbol a}
\newcommand{\bb}{\boldsymbol b}
\newcommand{\e}{\boldsymbol e}
\newcommand{\oo}{\boldsymbol o}
\newcommand{\uu}{\boldsymbol u}
\newcommand{\vv}{\boldsymbol v}
\newcommand{\A}{\mathcal A}
\newcommand{\B}{\mathcal B}
\newcommand{\QQ}{\mathcal Q}
\newcommand{\ff}{\boldsymbol f}
\newcommand{\g}{\boldsymbol g}
\newcommand{\TT}{\boldsymbol T}
\newcommand{\NN}{\boldsymbol N}
\newcommand{\BB}{\boldsymbol B}

% matematične operatorje deklarirajte kot take, da jih bo Latex pravilno stavil
% \DeclareMathOperator{\conv}{conv}

% vstavite svoje definicije ...
%  \newcommand{}{}

\begin{document}

\section{Uvod}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Osnovni pojmi in definicije}
Za začetek se spoznajmo z osnovnimi pojmi in definicijami, ki jih bomo potrebovali v nadaljevanju.
\begin{definicija}
Množica kvaternionov $\HH$ je 4-razsežen vektorski prostor z bazo $\bf{1},\bf{i},\bf{j},\bf{k}$.
\end{definicija}
Vsak kvaternion $\A \in \HH$ lahko zapišemo kot $\A = a_0 + a_1\mathbf{i} + a_2\mathbf{j} + a_3\mathbf{k}$ oziroma $\A=(a_0,a_1,a_2,a_3)$, kjer so $a_0,a_1,a_2,a_3\in \R$ ali pa kot skalarni in vektorski del $\A =(a_0,\boldsymbol{a})$, kjer je $\A = (a_1,a_2,a_3)$.
Poglejmo si osnovne operacije v množici $\HH$:\\
\begin{itemize}
\item Seštevanje:
\begin{equation*}
\begin{split}
\A + \B &= (a_0+b_0,a_1+b_1,a_2+b_2,a_3+b_3)  \\
 		  &=(a_0+b_0) + (a_1+b_1)\mathbf{i} + (a_2+b_2)\mathbf{j} + (a_3+b_3)\mathbf{k}, \\
 		  &  		  \A = (a_0,a_1,a_2,a_3) \in \HH, \quad \B = (b_0,b_1,b_2,b_3) \in \HH.
\end{split}
\end{equation*}
\item Skalarno množenje:
\begin{equation*}
\lambda \A = (\lambda a_0, \lambda a_1, \lambda a_2, \lambda a_3) =  \lambda a_0 + \lambda a_1 \mathbf{i} + \lambda a_2 \mathbf{j} + \lambda a_3 \mathbf{k}, \quad \lambda \in \R,\quad \A \in \HH.
\end{equation*}
\item Konjugacija:
\begin{equation*}
\overline{\A} = (a_0,-a_1,-a_2,-a_3)= a_0-a_1\mathbf{i} - a_2\mathbf{j} - a_3\mathbf{k}, \quad \A \in \HH .
\end{equation*}
\item Kvaternionsko množenje:
$\text{Velja zveza:}~\mathbf{i}^2 = \mathbf{j}^2 = \mathbf{k}^2 = \mathbf{ijk} = -1$. Iz te zveze sledijo formule za posamezno množenje dveh baznih elementov. Od koder izpeljemo
\begin{equation*}
\begin{split}
\A \cdot \B &= (a_0 + a_1\ii +a_2\jj+a_3\kk)(b_0+b_1\ii+b_2\jj+b_3\kk) \\
&=a_0b_0+a_0b_1\ii+a_0b_2\jj+a_0b_3\kk+a_1b_0\ii+a_1b_1\ii^2+a_1b_2\ii\jj+a_1b_3\ii\kk+a_2b_0\jj\\
&+a_2b_1\jj\ii+a_2b_2\jj^2+a_2b_3\jj\kk+a_3b_0\kk+a_3b_1\kk\ii+a_3b_2\kk\jj+a_3b_3\kk^2\\
&=(a_0b_0-a_1b_1-a_2b_2-a_3b_3) +(a_0b_1+a_1b_0+a_2b_3-a_3b_2)\ii \\
&+(a_0b_2-a_1b_3+a_2b_0+a_3b_1)\jj +(a_0b_3+a_1b_2-a_2b_1+a_3b_0)\kk,\\
&\A = (a_0,a_1,a_2,a_3) \in \HH, \quad \B = (b_0,b_1,b_2,b_3) \in \HH.
\end{split}
\end{equation*}
Če kvaternione pišemo v obliki $\A=(a,\ba)$ in $\B=(b,\bb)$, se formula za množenje zapiše krajše kot
\begin{equation}{\label{mn_kvat}}
	\A \cdot \B = \left( ab-\langle \ba,\bb \rangle, a\bb-b\ba-\ba \times \bb\right)
\end{equation}
\end{itemize}
Zaradi lažjega razumevanja, bomo kvaternionsko množenje označevali z $\cdot$, skalarno množenje pa z $\langle\cdot,\cdot\rangle$.
\begin{primer}
	Primer uporabe formule za kvaternionsko množenje . Izpeljali bomo formulo za  množenje dveh kvaternionov, ki imata skalarni del enak 0.
	Naj bosta $A = (0,\boldsymbol{a})$ in $(0,\boldsymbol{b})$. Po formuli \ref{mn_kvat} dobimo
	\begin{equation*}
	(0,\boldsymbol{a}) \cdot (0,\boldsymbol{b}) = \left( -\langle \boldsymbol{a}, \boldsymbol{b} \rangle , -\boldsymbol{a} \times \boldsymbol{b} \right),
	\end{equation*}
	od koder sledi,da je
	\begin{equation}{\label{mn_kvat_0}}
	\langle \boldsymbol{a},\boldsymbol{b} \rangle = -{\rm scal}\left( (0,\boldsymbol{a}) \cdot (0,\boldsymbol{b}) \right).
	\end{equation}
\end{primer}
\begin{opomba}
	Oznaka $scal(\cdot)$ označuje skalarni del produkta.
\end{opomba}
\begin{opomba}
	Kvaternionu, ki ima skalarni del enak 0, rečemo čisti kvaternion.
\end{opomba}
Normo kvaterniona $\A$ izračunamo kot
\begin{equation*}
||\A|| = \sqrt{\langle \A, \overline{\A}\rangle}, \quad \A \in \HH.
\end{equation*}
\begin{definicija}
\textit{Parametrično podana krivulja} v $\R^d$ je množica točk, podana s parametrizacijo
\begin{equation*}
\rr: [ a,b ] \rightarrow \R^d, \quad t ~ \longmapsto ~\rr(t) = \left( r_1(t),r_2(t), \dots, r_d(t)\right)
\end{equation*}
\end{definicija}
\begin{definicija}
	Krivulja $\rr$ je \textit{racionalna}, če velja $\rr(t) = \frac{\pp(t)}{\boldsymbol{q}(t)}$, kjer sta $\pp$ in $\boldsymbol{q}$ polinoma.
\end{definicija}
V nadaljevanju se bomo omejili na prostorske krivulje. V tem primeru bodo parametrizacije oblike $\rr(t) = \left( x(t),y(t),z(t) \right)$.
\begin{definicija}
Parametrično podana krivulja $\rr$ je \textit{Pitagorejska krivulja\\ (P-krivulja)}, če je $\boldsymbol{o}(t) = \frac{\rr(t)}{||\rr(t)||}$ racionalna, oziroma če je $||\rr(t)|| = \sigma(t)$ za nek polinom $\sigma$ .
\end{definicija}
\begin{definicija}
	Z $\mathbb{P}_n$ označimo prostor polinomov stopnje največ $n$.
\end{definicija}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Konstrukcija P-krivulje}
V tem razdelku bomo opisali postopek, s katerim bomo dobili krivuljo.\\
Za začetek vzemimo poljubnen kvaternionski polinom $\mathcal{A}(t)$, ki naj bo stopnje $n$. Torej
\begin{equation*}
\mathcal{A}: I \subset \R \rightarrow \HH,
\end{equation*}
\begin{equation*}
\mathcal{A}(t) = u(t) + v(t) \mathbf{i} + p(t) \mathbf{j} + q(t) \mathbf{k}, \quad t \in I,\quad u,v,p,q \in \mathbb{P}_n.
\end{equation*}
Iz kvaternionskega polinoma $\mathcal{A}(t)$ bomo konstruirali parametrično krivuljo $\mathbf{p}(t)$ in sicer naj bo
\begin{equation}
\boldsymbol{p}(t) = \mathcal{A}(t) \boldsymbol{i} \overline{\mathcal{A}}(t).
\end{equation}
Pokažimo, da je tako dobljena krivulja res parametrična polinomska P-krivulja. Izkaže se, da je stopnje $2n$. Zaradi boljše preglednosti bomo izpustili argument, vendar se zavedamo, da so predpisi odvisni od parametra t.Dobimo
\begin{equation*}
\begin{split}
\mathcal{A}\boldsymbol{i}\overline{\mathcal{A}} & =(u\boldsymbol{i}-v-p\boldsymbol{k}+q\boldsymbol{j})(u-v\boldsymbol{i}-p\boldsymbol{j}-q\boldsymbol{k}) \\
&= u^2 \ii -uv\ii^2-pu\ii\jj - uq\ii\kk - vu + v^2\ii + vp\jj\\
&~~ +vq\kk - pu\kk + pv\kk\ii + p^2 \kk\jj + pq\kk^2 + qu\jj - qv\jj\ii - qp\jj^2 -q^2\jj\kk \\
& = u^2\ii + uv - pu\kk + uq\jj -vu+v^2\ii +vp\jj + vq\kk \\
& ~~-pu\kk+pv\jj-p^2\ii-pq+qu\jj+qv\kk+qp-q^2\ii \\
& = (u^2+v^2-p^2-q^2)\ii + 2(uq-vp)\jj +2(vq-pu)\kk.
\end{split}
\end{equation*}
Opazimo, da je skalarni del enak 0, zato lahko $\pp = \A\ii\A$ identificiramo s krivuljo v $\R^3$. Torej dobimo
\begin{equation*}
\pp = (u^2+v^2-p^2-q^2, 2(uq+vp),2(vq-pu)).
\end{equation*}
Ker smo predpostavili, da so v kvaternionskemu polinomu $\A=u+v\ii+p\jj+q\kk$ funkcije $u,v,p,q$ polinomi stopnje $n$, in ker v $\pp$ nastopajo le zmnožki dveh od teh polinomov, vsote in razlike, je dobljena krivulja $\pp$ polinom stopnje $2n$.\\
Pokažimo sedaj, da je krivulja $\pp$, dobljena po zgornjem predpisu res P-krivulja. Dokazati moramo, da je $\boldsymbol{o} = \frac{\pp}{||\pp||}$ racionalna krivulja. Vemo že, da je $\pp$ polinom. Preverimo, da je tudi $||\pp||$ polinom. Dobimo
\begin{equation*}
\begin{split}
||\pp||^2 &= \langle \pp,\overline{\pp}\rangle = (\A\ii\overline{\A})\overline{(\A\ii\overline{\A})} \\
&= \A\ii\overline{\A}\A\overline{\ii} \overline{\A} \\
&= ||\A||^2 \A \ii \overline{\ii} \overline{\A} \\
& = ||\A||^2 \A \overline{\A} \\
&=||\A||^4.
\end{split}
\end{equation*}
Torej je $||\pp|| = ||\A||^2$. Ker je $\A$ sestavljen iz polinomov, je $||\pp||$ res polinom.\\

\begin{lema}
	Iz kvaternionskega polinoma $\A(t)$, stopnje $n$, smo po predpisu\\ $\pp(t) = \A(t)\ii\overline{\A(t)}$ konstruirali P-krivuljo stopnje $2n$. 
\end{lema}

\subsection{Zapis krivulje v Bernsteinovi bazi}
Naš cilj je opisati gibanje kamere okoli nekega fiksnega objekta. Gibanje kamere bo določeno s prostorsko krivuljo, opremljeno z ortonormiranim ogrodjem. Ker želimo, da bo gibanje opisano z racionalnimi funkcijami, moramo za krivuljo izbrati polinomsko/racionalno krivuljo, ki se jo da opremiti z racionalnim ortonormiranim ogrodjem. Želimo si nadzorovati to gibanje in vsaj pribljižno napovedati, kje se bo krivulja gibala. Videli bomo, da tega ne moremo doseči, če polinomsko krivuljo zapišemo v standardni bazi. To bomo dosegli s pomočjo Bernsteinove baze vektorskega prostora $\mathbb{P}_n$. \\
Poglejmo si najprej zapis krivulje v standardni bazi. Poljuben polinom $\pp$ stopnje $n$, se v standardni bazi zapiše kot
\begin{equation*}
\pp(t) = \sum_{i=0}^n \pp_i t^i \quad \text{kjer so $p_i$ točke v $\R^3$.}
\end{equation*}
Poglejmo si nekaj preprostih primerov, kjer primerjamo izbrane točke $\pp_i$ in obliko dobljene krivulje $\pp(t)$.

\begin{figure}[ht!]

\includegraphics[scale=0.20]{C:/Users/Acer/Desktop/diploma/Diploma/slike/standKrivulja3.jpg}{a}

\end{figure}
 \begin{figure}[ht!]
 	\includegraphics[scale=0.20]{C:/Users/Acer/Desktop/diploma/Diploma/slike/standKrivulja4.jpg}
 	\caption{desna slika}
 \end{figure}


Na slikah \ref{stand_1} in \ref{stand_2} so z oranžno barvo narisane in povezane izbrane točke $p_i$, z modro pa je prikazana dobljena krivulja $\pp(t)$, zapisana v standardni bazi.
Vidimo, da med izbranimi točkami in obliko krivulje ni vidne povezave. \\

Poglejmo si, kako je definirana Bernsteinova baza in kakšno povezavo imajo točke z obliko krivulje.
\begin{definicija}
Bernsteinovi bazni polinomi, stopnje $n$, so
\begin{equation*}
B_i^n(t) = \binom{n}{i} tî (1-t)^{n-i}, \quad i=0,1,\dots,n.
\end{equation*}
\end{definicija}
\begin{equation*}
\begin{array}{c c}
\includegraphics[scale=0.35]{C:/Users/Acer/Desktop/diploma/Diploma/slike/bernPolinom4.jpg} &
\includegraphics[scale=0.35]{C:/Users/Acer/Desktop/diploma/Diploma/slike/bernPolinom10.jpg}
\end{array}
\end{equation*}
Sliki \ref{bern_1} in \ref{bern_2} prikazujeta Bernsteinove bazne polinome za $n = 4$ in $n= 10$.
\begin{trditev}
	Bernsteinovi bazni polinomi stopnje $n$, tvorijo bazo za $\mathbb{P}_n$.
\end{trditev}
\begin{dokaz}
	todo
\end{dokaz}

Zapišimo sedaj kvaternionski polinom $\A(t)$ v Bernsteinovi bazi. Dobimo
\begin{equation*}
\A(t) = \sum_{i=0}^n \A_i B_i^n(t),
\end{equation*}
kjer so $\A_i \in \HH$ in $B_i^n$ Bernsteinovi bazni polinomi. Točkam $\A_i$ rečemo kontrolne točke, te pa tvorijo tako imenovani kontrolni poligon, ki določa obliko krivulje.

\begin{equation*}
\begin{array}{c c}
\includegraphics[scale=0.35]{C:/Users/Acer/Desktop/diploma/Diploma/slike/bernKrivulja1.jpg} &
\includegraphics[scale=0.15]{C:/Users/Acer/Desktop/diploma/Diploma/slike/bernKrivulja3.jpg}
\end{array}
\end{equation*}
Sliki \ref{bbaza_1} in \ref{bbaza_2} nam prikazujeta krivuljo, dobljeno iz kontrolnih točk in zapisano v Bernsteinovi bazi. Vidimo, da če si narišemo kontrolni poligon (oranžna barva), se krivulja (modra barva) začne v prvi kontrolni točki in konča v zadnji. Pot krivulje med tema dvema točkama, pa poteka po notranjosti mnogokotnika, ki ga določa kontrolni poligon.
\iffalse
Primer prileganja krivulje kontrolnemu poligoni na točkah (0,0), (1,1), (2,-1), (0,-3), (-2,2) in če dodamo še (3,2).
\fi
\begin{primer}Za $n = 2$ dobimo
\begin{equation*}
B_i^2(t) = \binom{2}{i} t^i(1-t)^{2-i}, \quad i=0,1,2.
\end{equation*}
Če razpišemo za vsak $i$ dobimo
\begin{equation*}
\begin{split}
B_0^2(t) &= \binom{2}{0} t^0(1-t)^{2-0} = (1-t)^2,\\
B_1^2(t) &= \binom{2}{1} t^1(1-t)^{2-1} = 2t(1-t),\\
B_2^2(t) &= \binom{2}{2} t^2(1-t)^{2-2} = t^2.
\end{split}
\end{equation*}
Torej lahko kvaternionski polinom $\A$ stopnje 2 zapišemo kot
\begin{equation*}
	\A(t) = \A_0(1-t)^2 + \A_1 2t(1-t) + \A_2t^2,
\end{equation*}
kjer so $\A_0, \A_1, \A_2 \in \HH$. 
\begin{equation*}
\begin{array}{c c}
\includegraphics[scale=0.35]{C:/Users/Acer/Desktop/diploma/Diploma/slike/stand3.jpg} &
\includegraphics[scale=0.35]{C:/Users/Acer/Desktop/diploma/Diploma/slike/bern3.jpg}
\end{array}
\end{equation*}
Na zgornjih dveh slikah sta prikazani krivulji, ki jih dobimo, če vzamemo enake kontrolne točke in določimo krivuljo v standarni bazi (leva slika) in v Bernsteinovi bazi (desna slika). Kot smo že ugotovili zgoraj, je dobljena oblika lepša, če je krivulja zapisana v Bernsteinovi bazi. Nadzorujemo lahko začetno in končno točko, ter obliko krivulje.
\iffalse
primer polinoma zapisanega v standardni bazi in bernsteinovi bazi, z istimi kontrolnimi točkami (-1,0), (0,1), (1,0).
\fi
\end{primer}



\subsection{Določitev kontrolnih točk P-krivulj}
V tem razdelku si bomo pogledali, kako določiti kontrolne točke za krivuljo, zapisano v Bernsteinovi bazi. Vprašanje je, kakšni naj bodo začetni koeficienti polinoma $\A(t)$, če določimo koeficiente krivulji $\pp(t)$. Torej, izbrane imamo točke, ki nam določajo obliko poti krivulje. Kakšni naj bodo potem koeficienti začetnega polinoma $\A(t)$?
\begin{primer}{\label{primer35}}Poračunajmo Bernsteinove bazne polinome za $n=1$. Dobimo
\begin{equation*}
B_i^1(t) = \binom{1}{i} t^i(1-t)^{1-i}, \quad i= 0,1.
\end{equation*}
Iz česar sledi
\begin{equation*}
	\begin{split}
	B_0^1(t) &= \binom{1}{0} t^0(1-t)^{1-0} = 1-t, \\
	B_1^1(t) &= \binom{1}{1} t^1(1-t)^{1-1} = t.
	\end{split}
\end{equation*}
Torej se kvaternionski polinom $\A(t)$ prve stopnje zapiše kot
\begin{equation*}
\A(t) = \boldsymbol{A}_0(1-t) + \boldsymbol{A}_1t.
\end{equation*} 
Rekli smo, da je $\pp(t) = \A(t) \ii \overline{\A(t)}$. Vemo, da se splošni polinom stopnje n, v Bernsteinovi bazi, zapiše kot:
\begin{equation*}
\pp(t) = \sum_{k=0}^n \pp_k \binom{n}{k}(1-t)^{n-k}t^k.
\end{equation*}
Pokazali smo, da če je $\A$ stopnje $n$, bo $\pp = \A\ii\overline{\A}$ stopnje $2n$. Bernsteinovi bazni polinomi za $n=2$ so
\begin{equation*}
\begin{split}
B_0^2(t)& = (1-t)^2\\
B_1^2(t) &= 2t(1-t)\\
B_2^2(t) &= t^2.
\end{split}
\end{equation*}
Od tod sledi, da se $\pp(t)$ zapiše kot
\begin{equation*}
	\pp(t) = \sum_{i=0}^2 \pp_i B_i^2 = \pp_0 (1-t)^2 + \pp_12t(1-t) + \pp_2t^2,
\end{equation*}
kjer so $\pp_0,\pp_1,\pp_2 \in \HH$.
Razpišemo krivuljo $\pp(t)$ po definiciji in dobimo
\begin{equation*}
\begin{split}
\pp(t) &= \A(t)\ii\overline{\A(t)} \\
&= (\boldsymbol{A}_0(1-t) + \boldsymbol{A}_1t) \ii ( \overline{\boldsymbol{A}_0}(1-t) + \overline{\boldsymbol{A}_1}t) \\
& = (\boldsymbol{A}_0(1-t) + \boldsymbol{A}_1t) (\ii\overline{\boldsymbol{A}_0}(1-t) + \ii\overline{\boldsymbol{A}_1}t) \\
&=\A_0 \ii \overline{\A_0} (1-t)^2 + \A_0\ii\overline{\A_1}(1-t)t + \A_1\ii\overline{\A_0}t(1-t) + \A_1\ii\overline{\A_1}t^2 \\
&= \A_0 \ii \overline{\A_0} (1-t)^2 + \left(\frac{1}{2}\A_0\ii\overline{\A_1} +\frac{1}{2} \A_1\ii\overline{\A_0}\right)2t(1-t) + \A_1\ii\overline{\A_1}t^2.
\end{split}
\end{equation*}
Primerjamo istoležne koeficiente in dobimo naslednje enačbe:
\begin{equation*}
\begin{split}
\pp_0&= \A_0\ii\overline{\A_0}, \\
\pp_1&= \frac{1}{2}\left( \A_0\ii\A_1\overline{\A_1} + \A_1\ii\overline{\A_0}\right),\\
\pp_2&= \A_1\ii\overline{\A_1}.
\end{split}
\end{equation*}
\end{primer}
Z podobnim računanjem pridemo do kontrolnih točk P-krivulj višjih stopenj.
\begin{primer}Poglejmo si primer za $n=2$. Vemo, da bo krivulja $\pp$ stopnje 4.
Imamo kvaternionski polinom
\begin{equation*}
	\A(t) = \A_0(1-t)^2 + \A_12t(1-t) + \A_2(1-t)^2.
\end{equation*}
Želimo izračunati kontrolne točke za krivuljo
\begin{equation*}
	\pp(t) = \sum_{k=0}^4\pp_iB_i^4(t).
\end{equation*}
Kontrolne točke izračunamo po enakem postopku kot v primeru \ref{primer35} . Dobimo
\begin{equation*}
\begin{split}
\pp_0 & = \A_0\ii\overline{\A_0}, \\
\pp_1 &= \frac{1}{2}\left( \A_0\ii\overline{\A_1} + \A_1\ii\overline{\A_0} \right), \\
\pp_2 &= \frac{1}{6} \left( \A_0\ii\overline{\A_2} + 4\A_1\ii\overline{\A_1}+\A_2\ii\overline{\A_0} \right), \\
\pp_3 &= \frac{1}{2} \left( \A_1\ii\overline{\A_2}+\A_2\ii\overline{\A_1} \right), \\
\pp_4 &= \A_2\ii\overline{\A_2}.
\end{split}
\end{equation*}
\end{primer}
\iffalse
Z višanjem stopnje začetnega polinoma, dobimo več prostih parametrov, kar lahko izkoristimo pri konstrukciji krivulje. Več o tem kasneje.
\fi
Sedaj, ko imamo izračunane kontrolne točke, lahko iz njih izračunamo začetne koeficiente polinoma $\A$. Na primer, lahko si izberemo začetno in končno točko krivulje $\pp(0)$ in $\pp(1)$, od koder določimo kvaterniona $\A_0$ in  $\A_n$, kot je razloženo v nadaljevanju.
\begin{primer}Poglejmo si primer za	$n=1$. Nastavimo začetno in končno točko in dobimo
	\begin{equation*}
	\begin{split}
		\A_0\ii\overline{\A_0} &= \pp(0), \\
		\A_1\ii\overline{\A_1} &= \pp(1).
	\end{split}
\end{equation*}
Iz teh dveh enačb lahko izrazimo $\A_0$ in $\A_1$ in dobimo začetni kvaternionski polinom $\A$. Podobno za polinome višjih stopenj, kjer si lahko izberemo začetno in končno točko ter še dodatno točko.	
\end{primer}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Ogrodja}

\subsection{Usmerjena in prikrojena ogrodja}
Pogledali si bomo, kakšna je razlika med usmerjenimi in prikrojenimi ogrodji.
\begin{definicija}
	Ogrodje $(\e_1,\e_2,\e_3)$ je prikrojeno, če se $\e_1$ v vsaki točki krivulje ujema z enotsko tangento, $\e_2$ in $\e_3$ pa v vsaki točki napenjata normalno ravnino.
\end{definicija}
\begin{primer}
	Nam najbolj znan primer prikrojenega ogrodja je Frenetovo ogrodje. To ogrodje, ki pripada parametrični krivulji $\rr(t)$, označimo z $(\TT,\NN,\BB)$ in ga izračunamo po sledečih formulah:
	\begin{equation*}
		\begin{array}{c c c}
		\TT = \frac{\rr'}{||\rr'||},~ & \NN = \frac{\rr' \times \rr''}{||\rr' \times \rr''||} \times \TT,~ &
		\BB = \frac{\rr' \times \rr''}{||\rr' \times \rr''||}
		\end{array}
	\end{equation*}
	\begin{equation*}
	\begin{array}{c c}
	\includegraphics[scale=0.2]{C:/Users/Acer/Desktop/diploma/Diploma/slike/FrenetOgrodjeTangenta'.jpg} &
	\includegraphics[scale=0.2]{C:/Users/Acer/Desktop/diploma/Diploma/slike/FrenetOgrodje3'.jpg}
	\end{array}
	\end{equation*}
	Na sliki \ref{tan} je prikazan tangentni vektor, na sliki \ref{fogrodje} pa krivulja z Frenetovim ogrodjem.
\end{primer}
\begin{definicija}
Ogrodje $(\e_1,\e_2,\e_3)$ je usmerjeno, če $\e_1$ v vsaki točki krivulje kaže proti izhodišču koordinatnega sistema.
\end{definicija}
\begin{equation*}
\begin{array}{c c}
\includegraphics[scale=0.25]{C:/Users/Acer/Desktop/diploma/Diploma/slike/polarindi1.jpg} &
\includegraphics[scale=0.25]{C:/Users/Acer/Desktop/diploma/Diploma/slike/polarindi4.jpg}
\end{array}
\end{equation*}
Na zgornjih slikah vidimo krivuljo in vektor $\e_1$, ki vedno kaže proti izhodišču. 
\begin{opomba}
	Vektor $\e_1$ imenujemo polarni indikator.
\end{opomba}
Sedaj, ko smo si pogledali obe vrsti ogrodij, je seveda jasno, katero ogrodje si bomo izbrali pri naši konstrukciji. Ker si želimo opisati gibanje kamere, ki bo ves čas potovanja po krivulji snemala nek fiksen objekt v izhodišču, si izberemo usmerjeno ogrodje in položaj kamere orientiramo skladno z danim ogrodjem.

\subsection{Rotacijsko minimizirajoča ogrodja} Pojem se povezuje z dejstvom, da si želimo čim manj nepotrebnih rotacij samega ogrodja okoli izbrane osi. Bolj natančno, vektorja $\e_2$ in $\e_3$, ki razpenjata normalno ravnino, naj nimata nobene nenadne rotacije okoli vektorja $\e_1$. Poglejmo si primer na Frenetovem ogrodju.
\begin{primer}
	Če določimo krivuljo, je s tem določem tudi njen tangentni vektor. Kaj pa druga dva vektorja, ki določata ogrodje? Prikrojeno ogrodje je definirano tako, da vektorja v normalni ravnini nista fiksirana. Problem je v tem, da ju lahko zarotiramo za poljuben kot, tako dobljeni vektorji, pa še vedno tvorijo ogrodje. Torej vektorja $\e_2$ in $\e_3$ lahko izberemo kot poljubni rotaciji vektorjev $\NN$ in $\BB$, za poljuben kot $\phi$:
	\begin{equation*}
		\begin{bmatrix}
		\e_2 \\
		\e_3
		\end{bmatrix}
		=
		\begin{bmatrix}
		\cos \phi & \sin \phi \\
		-\sin \phi & \cos \phi
		\end{bmatrix}
		\begin{bmatrix}
		\NN \\ \BB
		\end{bmatrix}.
	\end{equation*}
\begin{equation*}
\includegraphics[scale=0.25]{C:/Users/Acer/Desktop/diploma/Diploma/slike/dvaOgrodja'.jpg}
\end{equation*}
Na sliki \ref{dvaogrodja} vidimo tak primer. Modri tangentni vektor $\TT$, in zelena $\NN$ in $\BB$ tvorijo prikrojeno ogrodje. Vendar prav tako tvorijo prikrojeno ogrodje moder vektor $\TT$ in rdeča $\NN$ in $\BB$.
\end{primer}
Torej, izmed vseh možnih ortonormiranih ogrodij, ki jih lahko konstruiramo na krivulji, nas bodo zanimala le taka, ki nam zagotovijo čim manj rotacij v ravnini, ki je pravokotna  na $\e_1$.
 
Vsako ogrodje ima neko kotno hitrost $\omega$, ki nam pove, kako se ogrodje spreminja, oziroma kako se spreminjata vektorja $\e_2$ in $\e_3$.
\begin{definicija}
Naj bo $(\e_1,\e_2,\e_3)$ ogrodje in $\omega$ pripadajoča kotna hitrost. Potem je $\omega$ definirana z naslednjimi diferencialnimi enačbami:
\begin{equation}
\frac{d\e_i}{dt}(t) = \omega(t) \times \e_i(t), ~~ i=1,2,3.
\end{equation}
\end{definicija}

Ker se bomo v nadaljevanju ukvarjali samo z usmerjenimi ogrodji, si poglejmo povezavo med le temi.
\begin{definicija}
Usmerjeno ogrodje $(\e_1,\e_2,\e_3)$ je rotacijsko minimizirajoče, če velja $\langle \omega,\e_1\rangle = 0.$
\end{definicija}

\begin{trditev}
Ogrodje $(\e_1,\e_2,\e_3)$, definirano kot 
\begin{equation}{\label{ERogrodje}}
\begin{array}{c c c}
\e_1 = \frac{\A\ii\overline{\A}}{\A\overline{\A}}, &
\e_2 = \frac{\A\jj\overline{\A}}{\A\overline{\A}}, &
\e_3 = \frac{\A\kk\overline{\A}}{\A\overline{\A}},
\end{array}
\end{equation}
je ortonormirana baza prostora $\R^3$.
\end{trditev}
\begin{opomba}
	Ogrodje \ref{ERogrodje} imenujemo Euler-Rodroguesovo ogrodje.
\end{opomba}
\begin{dokaz}
Pokazati moramo, da so skalarni produkti $\langle \e_i, \e_j \rangle $ enaki 0, za $i, j = 1,2,3, i \neq j$. Vemo, da so skalarni deli $\e_1,\e_2,\e_3$ enaki 0, zato lahko uporabimo formulo \ref{mn_kvat_0} za skalarni produkt dveh čistih kvaternionov. Dobimo
\begin{equation*}
\begin{split}
	\langle \e_1,\e_2 \rangle& = -scal \left( \e_1 \cdot \e_2 \right) \\
	& = -scal \left( \A \ii \overline{\A} \A \jj \overline{\A} \right) \\
	&= - ||\A||^2 scal \left( \A \ii \jj \overline{\A} \right) \\
	& = - ||\A||^2 scal \left( \A \kk \overline{\A} \right) \\
	& = 0.
\end{split}
\end{equation*}
Analogno pokažemo, da je $\langle \e_2,\e_3 \rangle = 0$, $\langle \e_1,\e_3 \rangle = 0$.
Izračunajmo še dolžie vektorjev $\e_1,\e_2,\e_3$. Za $\e_1$ velja
\begin{equation*}
\begin{split}
\A \ii \overline{\A} \A \ii \overline{\A} 	&= ||A||^2 \A \ii^2 \overline{\A} \\
	&= -||A||^4.
\end{split}
\end{equation*}
Od tod sledi
\begin{equation*}
\begin{split}
	\langle \e_1,\e_1 \rangle &= -scal \left( \e_1 \cdot \e_1 \right) \\
&= -scal (-\frac{1}{||\A||^4}||A||^4) \\
&= 1.
\end{split}
\end{equation*}
Na isti načim pokažemo, da velja $||\e_2||=||\e_3||=1$, od koder sledi, da je res ortonormirana baza v $\R^3$.
\end{dokaz}
\begin{trditev} Recimo, da imamo ogrodje definirano kot zgoraj.
	Usmerjeno ogrodje je rotacijsko minimizirajoče natanko tedaj, ko je $scal(\A' i\overline{\A})\equiv0$.
\end{trditev}
\begin{dokaz}
Želimo pokazati, da velja
\begin{equation}
\langle \omega,\e_1\rangle = 0 \Leftrightarrow scal(\A' \\i\overline{\A}) = 0.
\end{equation}
Razvijemo $\omega$ po bazi $\left(\e_1,\e_2,\e_3\right)$: $\omega = \omega_1\e_1+\omega_2\e_2+\omega_3\e_3$. Torej velja
\begin{equation*}
\langle \omega, \e_1 \rangle = \langle \omega_1\e_1,\e_1\rangle + \langle \omega_2\e_2,\e_1\rangle + \langle \omega_3\e_3,\e_1\rangle= \omega_1\langle \e_1,\e_1\rangle + \omega_2\langle \e_2,\e_1\rangle + \omega_3\langle \e_3,\e_1\rangle
\end{equation*}
Ker so $\e_1,\e_2,\e_3$ ortogonalni, je  $\langle \e_2,\e_1\rangle = 0$ in $\langle \e_3,\e_1\rangle=0$.
Ostane nam
\begin{equation*}
\langle \omega,\e_1 \rangle =\omega_1 || \e_1 ||^2 = \omega_1,
\end{equation*}
od koder vidimo, da je $\langle \omega, \e_1\rangle = 0$ natanko tedaj, ko je $\omega_1 = 0$.
Po definiciji velja
\begin{equation*}
\frac{d\e_i}{dt}(t) = \omega(t) \times \e_i(t), ~~ i=1,2,3.
\end{equation*}
Razpišimo enačbe posebej. Za $i=1$ dobimo
\begin{equation*}
\e_1' = \omega \times \e_1 = (\omega_1 \e_1 + \omega_2 \e_2 + \omega_3 \e_3) \times \e_1
= \omega_2 \e_2 \times \e_1 + \omega_3 \e_3 \times \e_1 = - \omega_2\e_3 + \omega_3\e_2.
\end{equation*}
Celotno enačbo skalarno pomnožimo najprej z $\e_2$, nato z $\e_3$ in upoštevamo da so $\e_1,\e_2,\e_3$ ortogonalni. Dobimo:
\begin{equation*}
\langle \e_1', \e_2 \rangle  = \omega_3, \quad
\langle \e_1', \e_3 \rangle = -\omega_2.
\end{equation*}
Za $i=2$ velja
\begin{equation*}
\e_2' = \omega \times \e_2 = (\omega_1 \e_1 + \omega_2 \e_2 + \omega_3 \e_3) \times \e_2 =
\omega_1 \e_1 \times \e_2 + \omega_3 \e_3 \times \e_2
=\omega_1\e_3 -\omega_3\e_1.
\end{equation*}
Podobno kot prej enačbo skalarno pomnožimo z $\e_1$ in $\e_3$. Dobimo
\begin{equation*}
\langle \e_2', \e_1 \rangle  = -\omega_3, \quad 
\langle \e_2', \e_3 \rangle = \omega_1.
\end{equation*}
Za $i=3$ velja
\begin{equation*}
\e_3' = \omega \times \e_3 = (\omega_1 \e_1 + \omega_2 \e_2 + \omega_3 \e_3) \times \e_3 =
\omega_1 \e_1 \times \e_3 + \omega_2 \e_2 \times \e_3
= - \omega_1\e_2 + \omega_2\e_1
\end{equation*}
Ponovno enačbo skalarno pomnožimo, tokrat z $\e_1$ in $\e_2$. Dobimo
\begin{equation*}
\langle \e_3', \e_1 \rangle  = \omega_2, \quad
\langle \e_3', \e_2 \rangle = -\omega_1
\end{equation*}
Dobljene rezultate združimo in dobimo zveze
\begin{equation}
\begin{split}
\omega_1 &= \langle \e_2', \e_3 \rangle = - \langle \e_3', \e_2 \rangle, \\
\omega_2 &= \langle \e_1', \e_3 \rangle = - \langle \e_3', \e_1 \rangle, \\
\omega_3 &= \langle \e_1', \e_2 \rangle = - \langle \e_2', \e_1 \rangle. 
\end{split}
\end{equation}
Na tej točki določimo naše ogrodje.
\begin{equation*}
\begin{array}{c c c}
\e_1 = \frac{\A \ii \overline{\A}}{\A \overline{\A}} &
\e_2 = \frac{\A \jj \overline{\A}}{\A \overline{\A}} &
\e_3 = \frac{\A \kk \overline{\A}}{\A \overline{\A}}
\end{array}
\end{equation*}
Vemo, da tvorijo ortonormirano bazo. Vemo tudi, da ima produkt $\A \ii \overline{\A}$ skalarni del enak 0. Enako poračunamo za $\A \jj \overline{\A}$ in $\A \kk \overline{\A}$. Od tu sledi:
\begin{equation*}
\begin{split}
	\omega_1 = \langle \e_2', \e_3 \rangle& = -skal \left( \left( \A \jj \overline{\A} \right)' \cdot \left( \A \kk \overline{\A}  \right) \right) \\
	&= -skal \left( \left( \A' \jj \overline{\A} + \A \jj \overline{\A}' \right)' \cdot \left( \A \kk \overline{\A}  \right) \right) \\
	&= -skal \left( \left( \A' \jj \overline{\A} \A \kk \overline{\A}+ \A \jj \overline{\A}' \A \kk \overline{\A}  \right) \right) \\
	&= -skal \left( ||\A||^2 \A' \ii \overline{\A}+ \overline{\left(\A' \overline{\jj} \overline{\A}\right)} \overline{ \left( \A \overline{\kk} \overline{\A} \right) }\right) \\
	&= -skal \left( ||\A||^2 \A' \ii \overline{\A}+ \overline{\left( ||\A||^2 \A' \overline{\ii} \overline{\A}\right)} \right) \\
	&= -skal \left( ||\A||^2 \A' \ii \overline{\A} \right)-skal \left(\left( ||\A||^2 \A \ii \overline{\A}'\right) \right) \\
	&= -2||\A||^2 skal \left( \A' \ii \overline{\A}\right).
\end{split}
\end{equation*}
Od tod sledi
\begin{equation*}
\omega_1 = 0 \Leftrightarrow skal \left( \A' \ii \overline{\A} \right) = 0,
\end{equation*}
kar zaključuje dokaz.
\end{dokaz}
\begin{opomba}
V splošnem to ogrodje ne bo rotacijsko minimizirajoče, če poljubeno izberemo kvaternionski polinom $\A$. Iz $\A$ lahko izpeljemo novo ogrodje, ki bo tudi usmerjen in bo rotacijsko minimizirajoče. Definiramo nov kvaternionski polinom $\B$ s predpisom: $\B(t) = \A(t) \QQ(t)$, kjer je $\QQ$ tak kvaternionski polinom, da velja $\QQ(t) \ii \overline{\QQ(t)} = \left( \QQ(t) \overline{\QQ(t)} \right) \ii$. Tako dobimo:
\begin{equation*}
	\B \ii \overline{\B} = \A \QQ \ii \overline{\QQ} \overline{\A} = \A \QQ \overline{\QQ} \ii \overline{\A} = ||\QQ||^2\A\ii\overline{\A}.
\end{equation*}
Torej bo smer vektorja $\frac{\B \ii \overline{\B}}{\B  \overline{\B}}$ enaka smeri vektorja $\frac{\A \ii \overline{\A}}{\A  \overline{\A}}$, kar pomeni, da bo ogrodje res usmerjeno ogrodje. Torej $\QQ$ doličimo tako, da bo $\B = \A\QQ$ določalo rotacijsko minimizirajoče ogrodje. S pomočjo kvaternionskega polinoma $\QQ$, lahko dobimo več prostih parametrov pri konstrukciji krivulje. Višja kot bo stopnja $\QQ$, več le teh dobimo. V nadaljevanju bomo zaradi lažje analize predpostavili, da je $\QQ=1$.
\end{opomba}


\section{Izpeljava algoritma}
\iffalse

\begin{izrek}
Naj bo $e$ enotski vektor, $d$ neničelni vektor. Rešitev enačbe $\A e \overline{\A} = b$, kjer je $\A$ kvaternionski polinom, je:
\begin{equation*}
	\A = \sqrt{|b|} \frac{e+\frac{b}{|b|}}{|e+\frac{b}{|b|}|} \left( cos \phi + e sin\phi \right),
\end{equation*}
kjer je $\phi$ prost kotni parameter.
\end{izrek}

\begin{dokaz}
	TODO
\end{dokaz}

Konstruirali bomo P-krivuljo $\rr(t)$ stopnje 4, ki bo interpolirala naslednje podatke:\\
Začetni položaj:
\begin{equation}
	\rr(0) = \oo_z, ~~~~~ \rr(1) = \lambda \oo_k
\end{equation}
Začetno ogrodje:
\begin{equation}
\begin{split}
	(\oo(0),\uu(0), \vv(0)) = (\oo_z, \uu_z, \vv_z)\\
(\oo(1),\uu(1), \vv(1)) = (\oo_k, \uu_k, \vv_k)
\end{split}
\end{equation}
Začetna tangenta, smer
\begin{equation}
	\rr '(0) = \mu \ff_z
\end{equation}
Prav tako, mora za krivuljo $\rr(t)$ obstajati rotacijsko minimizirajoče ogrodje.\\
Brez škode za splošnost, postavimo za začetno ogrodje $(\oo_z, \uu_z, \vv_z) = (\ii, - \jj, -\kk)$ in nastavimo $\g_z = \ii \times \ff_z$. Vemo, da bo naša krivulja oblike $\rr(t) = \A(t) \ii \overline{\A(t)}$. Izrazimo začetne podatke z komponentami kvaternionskega polinoma $\A(t) = \A_0(1-t)^2 + \A_02(1-t)t + \A_2t^2$.Iz primera (?) vemo, da se začetna in končna točka izražata kot:
\begin{equation}
	\begin{split}
	\rr(0) = \A_0 \ii\overline{\A_0} = \oo_z = \ii \\
		\rr(1) = \A_2 \ii\overline{\A_2} = \lambda \oo_k \\
	\end{split}
\end{equation}
Poračunajmo še tretji pogoj:
\begin{equation*}
\begin{split}
	\rr'(t) &= \A(t)' \ii \overline{\A(t)} + \A(t) \ii \overline{\A(t)}' \\
	\A(t)' &= \A_02(1-t)(-1) + \A_12(1-t) - \A_12t + \A_2 2t \\
	\A(0)' &= -\A_0 + 2 \A_1 \\
	\rightarrow \rr(0)' &= 2(\A_1-\A_0)\ii \overline{\A_0} + \A_0 \ii 2(\overline{\A_1} - \overline{\A_0}) \\
	&= 2\A_1 \ii \overline{\A_0} - 2 \A_0 \ii \overline{\A_0} + 2 \A_0 \ii \overline{\A_1}-2\A_0 \ii \overline{\A_0} \\
	&= 2(\A_0 \ii \overline{\A_1} + \A_1 \ii \overline{\A_0}) - 4 \A_0 \ii \overline{\A_0} \\
	&= 2(\A_0 \ii \overline{\A_1} + \A_1 \ii \overline{\A_0}) - 4 \ii \\
	&= \mu \ff_z
\end{split}
\end{equation*}
Torej:
\begin{equation}
	\mu \ff_z + 4 \ii = 2(\A_0 \ii \overline{\A_1} + \A_1 \ii \overline{\A_0})
\end{equation}
Po izreku (?) je rešitev zgornjih dveh enačb (?) enaka:
\begin{equation}
	\A_0 = \ii (cos\phi_0 + \ii sin \phi_0),
\end{equation}
ker imamo vzporedne vektorje, in
\begin{equation}
\begin{array}{c c}
	\A_2 = \sqrt{|\lambda|} \frac{\ii + \lambda}{|\ii + \lambda|}(cos\phi_2 + \ii sin\phi_2),
\end{array}
\end{equation}
če je $\oo_k != -1$, in 
\begin{equation}
\A_2 = \sqrt{|\lambda|} \jj(cos\phi_2 + \ii sin\phi_2)
\end{equation}
sicer. Brez škode za splošnost nastavimo $\phi_0 = 0$. Iz tega sledi, da je $\A_0 = \ii$.
\begin{izrek}
	Za P-krivuljo, ki jo določa kvaternionski polinom $\A(t) = \A_0(1-t)^2 + \A_02(1-t)t + \A_2t^2$, obstaja rotacijsko minimizirajoče ogrodje, če velja:
	\begin{equation}
		\A_1 \ii \overline{\A_1} = vect(\A_2 \ii \overline{\A_0}).
	\end{equation}
\end{izrek}
\begin{dokaz}
	TODO
\end{dokaz}
Zaradi bolše preglednosti, vpeljimo nove oznake.
\begin{equation}
\begin{array}{c c}
	\A_2 = \sqrt{|\lambda|} n_2 (cos\phi_2 + \ii sin\phi_2) &, n_2 = \frac{\ii + \lambda}{|\ii + \lambda|}
\end{array}
\end{equation}
Torej se pogoj (?) pretvori v
\begin{equation}
\begin{split}
	\A_1 \ii \overline{\A_1} &=vect(\A_2 \ii \overline{\A_0})\\  
	&=vect(\A_2) \\
	&= vect\left( \sqrt{|\lambda|} n_2(cos\phi_2 + \ii sin\phi_2) \right) \\
	&= \sqrt{\lambda} \left(n_2 cos\phi_2 + n_2 \times \ii sin\phi_2\right) 
\end{split}
\end{equation}
Ponovno uporabimo izrek (?) in dobimo rešitev za $\A_1$:
\begin{equation}
	\begin{array}{c c c}
	\A_1 = \sqrt{|w|} n_1(cos\phi_1 + \ii sin\phi_1), & w = \sqrt{\lambda} \left(n_2 cos\phi_2 + n_2 \times \ii sin\phi_2\right), & n_1 = \frac{w + |w| \ii}{|w + |w|\ii|}
	\end{array}
\end{equation}
Torej:
\begin{equation}
\begin{split}
	vect(\A_1) &= vec\left( \sqrt{|w|} n_1(cos\phi_1 + \ii sin\phi_1) \right) \\
	&=cos\phi_1 w_1 + sin\phi_1 w_2,
\end{split}
\end{equation}
kjer je
\begin{equation}
	\begin{array}{c c}
	w_1 = \sqrt{|w|} n_1, & w_2 = \sqrt{|w|} n_1 \times \ii
	\end{array}
\end{equation}
\begin{trditev}
	Če je $\oo_z != \ii$, so vektorji $w,~ w\times \ii,~ w_1,~w_2,~\g_z\times(w_1\times w_2)$ neničelni.
\end{trditev}
\begin{opomba}
	Trditev nam pove, da če je $\oo_z != \ii$, sta vektorja $w!=0$ in $w\times \ii != 0$ iz česar sledi, da sta $n_1$ in $\A_1$ dobro definirana.
\end{opomba}
\begin{dokaz}
	TODO
\end{dokaz}
Poračunajmo še eno enačbo. Iz (?) sledi:
\begin{equation}
	\begin{split}
	\mu \ff_z + 4 \ii &= 2(\A_0 \ii \overline{\A_1} + \A_1 \ii \overline{\A_0})\\
	&= 2(-\overline{\A_1} + A_1) \\
	&= 4vect(\A_1) \\
	\Longrightarrow vect(\A_1) &= \frac{\mu \ff_z}{4} + \ii
	\end{split}
\end{equation}
Ker je $\g_z = \ii \times \ff_z$ sledi:
\begin{equation}
	\langle vect(\A_1), \g_z\rangle = \langle \frac{\mu \ff_z}{4} + \ii ,\ii \times \ff_z \rangle = 
	\langle \frac{\mu \ff_z}{4} ,\ii \times \ff_z \rangle + 
	\langle \ii ,\ii \times \ff_z \rangle = 0
\end{equation}
\begin{equation}
	\langle vect(\A_1), \ff_z \rangle = \langle \frac{\mu \ff_z}{4} + \ii ,\ff_z \rangle = \frac{\mu}{4} > 0
\end{equation}

\fi



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\iffalse 

Ko sestavimo vse stvari skupaj, opišemo naš postopek z naslednjim algoritmom.\\
\textbf{Vhodni podatki:} začetna točka $\pp_z = d_z \oo_z$, končna točka $\pp_k = d_k \oo_k$, usmerjenost končnih točk $\left( \oo_z, \uu_z, \vv_z\right)$,  $\left( \oo_k, \uu_k, \vv_k\right)$, $\oo_z != \oo_k$.
\begin{enumerate}
	\item a
	\item b
\end{enumerate}
\fi

\section{Numerični rezultati}


\section*{Slovar strokovnih izrazov}

\geslo{}{}
\geslo{}{}

% seznam uporabljene literature
\begin{thebibliography}{99}

%\bibitem{}

\end{thebibliography}

\end{document}

